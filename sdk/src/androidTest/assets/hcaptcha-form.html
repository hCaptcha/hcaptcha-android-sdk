<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"/>
</head>
<body>
    <div id="hcaptcha-container"></div>

    <input id="input-text" />

    <button id="on-error" onclick="onError()">Error</button>
    <button id="on-pass" onclick="onPass()">Pass</button>

    <script type="text/javascript">
        console.assert(window.JSDI.getDebugInfo() instanceof Array);
        console.assert(typeof window.JSDI.getSysDebug() === 'object');
        var BridgeObject = window.JSInterface;
        var bridgeConfig = JSON.parse(BridgeObject.getConfig());

        function onHcaptchaLoaded() {
            try {
                BridgeObject.onLoaded();
            } catch (e) {
                BridgeObject.onError(29);
            }

            if (!bridgeConfig.hideDialog) {
                setTimeout(function() {
                    BridgeObject.onOpen();
                }, 200);
            }
        }

        function onPass(arg) {
            const token = arg || document.getElementById("input-text").value;
            BridgeObject.onPass(token);
        }

        function onError(arg) {
            const errorCode = arg || parseInt(document.getElementById("input-text").value);
            BridgeObject.onError(errorCode);
        }

        onHcaptchaLoaded();
    </script>
</body>
</html>
